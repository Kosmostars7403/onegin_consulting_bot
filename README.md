# Телеграмм бот для отправки оповещений по номеру телефона

Проект состоит из трех скриптов
1. `main.py` - бот, для сбора пар телефонных номеров и id чатов телеграмм
2. `send_message.py` - скрипт для отправки сообщений в телеграмм бот по телефонному номер
3. `make_backup.py` - скрипт для записи бэкапа в файл

### Как установить
Для работы скриптов необходим установленный интерпретатор Python3. Затем загрузите зависимости с помощью "pip"
(либо "pip3", в случае конфликтов с Python2):
```
pip3 install -r requirements.txt
```

Далее, создайте в той же директории файл `.env` со следующим содержимым:
```
TELEGRAM_TOKEN={ваш токен телеграмм}
REDIS_PASSWORD={пароль Redis}
REDIS_URL={адрес базы данных}
```

### Запуск бота "подписчика" на уведомления

Для `main.py` необходимо только запустить процесс:
```
python3 main.py
```

### Отправка сообщений
Скрипт `send_message.py` принимает два аргумента:
1. Номер телефона в любом формате (валидными будут все варианты: '+79991234567', '89991234567', '8999-123-45-67' и тд)
2. Текст сообщения

Пример:
```
python3 send_message.py +79991233456 'Проснись и пой!'
```

### Бэкап данных
Скрипт создает в корне проекта файл `backup.json` с полным снимком базы Redis.
